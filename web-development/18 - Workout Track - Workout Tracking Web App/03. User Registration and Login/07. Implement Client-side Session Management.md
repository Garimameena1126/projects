## Module 3: Implement User Registration and Login

### Task: Implement client-side session management using cookies or tokens

Client-side session management is an important aspect of user authentication and maintaining user sessions in a web application. In this task, we will implement client-side session management using either cookies or tokens. Follow the steps below to complete this task.

#### Step 1: Choose a Session Management Method

Before we start implementing client-side session management, we need to choose between using cookies or tokens. Both methods have their advantages and considerations, so let's briefly discuss each option:

- **Cookies**: Cookies are small pieces of data stored in the user's browser. They are sent with every request to the server, allowing the server to identify and authenticate the user. Cookies are automatically managed by the browser, making them convenient to use. However, they have some security considerations, such as vulnerability to cross-site scripting (XSS) attacks.

- **Tokens**: Tokens are strings of characters that represent the user's session. They are typically generated by the server and sent to the client, who includes them in subsequent requests. Tokens are usually stored in the client's memory (e.g., local storage or session storage) or in an HTTP-only cookie. Tokens are more flexible and secure than cookies, but require additional implementation on the client-side.

Consider your project's requirements and security considerations when choosing between cookies and tokens. For this guide, we will demonstrate client-side session management using cookies.

#### Step 2: Set Up the Login Form

To implement client-side session management, we first need to have a login form where users can enter their credentials. Follow these steps to set up the login form:

1. Open your project's codebase in your preferred code editor.

2. Locate the HTML file containing the login form or create a new HTML file.

3. Inside the HTML file, add the following code to create the login form:

   ```html
   <!DOCTYPE html>
   <html>
   <head>
       <title>Login</title>
   </head>
   <body>
       <h1>Login</h1>
       <form id="loginForm">
           <label for="email">Email:</label>
           <input type="email" id="email" name="email" required>

           <label for="password">Password:</label>
           <input type="password" id="password" name="password" required>

           <button type="submit">Login</button>
       </form>
   </body>
   </html>
   ```

   In this code, we create a simple login form with input fields for email and password. The form has an `id` attribute set to "loginForm" for easy identification in JavaScript.

4. Save the HTML file.

#### Step 3: Implement the Login Functionality

Now that we have the login form set up, let's implement the functionality to handle the form submission and manage the user's session. Follow these steps to implement the login functionality:

1. In the same HTML file containing the login form, add a `<script>` tag just before the closing `</body>` tag to write JavaScript code:

   ```html
   <script>
       document.getElementById('loginForm').addEventListener('submit', function(event) {
           event.preventDefault(); // Prevent the form from submitting

           // Get the entered email and password values
           var email = document.getElementById('email').value;
           var password = document.getElementById('password').value;

           // Perform any client-side validation if needed

           // Send a request to the server to authenticate the user
           // Replace the URL and request body with your server-side implementation
           fetch('/login', {
               method: 'POST',
               headers: {
                   'Content-Type

': 'application/json'
               },
               body: JSON.stringify({
                   email: email,
                   password: password
               })
           })
           .then(response => response.json())
           .then(data => {
               // Handle the server response
               if (data.success) {
                   // User authentication successful
                   // Store the session token in a cookie
                   document.cookie = 'sessionToken=' + data.token + '; path=/';
                   // Redirect the user to the home page or a protected route
                   window.location.href = '/home';
               } else {
                   // User authentication failed
                   alert('Login failed. Please check your credentials.');
               }
           })
           .catch(error => {
               // Handle any errors
               console.error('Error:', error);
           });
       });
   </script>
   ```

   In this code, we add an event listener to the login form's `submit` event. When the form is submitted, the JavaScript code prevents the default form submission behavior (`event.preventDefault()`) and retrieves the email and password values entered by the user.

2. Replace the URL `/login` and the request body with the appropriate server-side implementation. This code assumes that the server will respond with JSON data containing a `success` flag and a `token` if the authentication is successful.

3. If the authentication is successful, the code stores the session token in a cookie named `sessionToken` and redirects the user to the home page or a protected route.

4. Save the HTML file.

